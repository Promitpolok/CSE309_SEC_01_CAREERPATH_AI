<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Settings</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="light-theme"> <div class="sidebar">
        <div>
            <div class="logo-container"><i class="fa-solid fa-gear"></i></div>
            <ul class="nav-links">
                <li><a href="index.html"><i class="fa-solid fa-house"></i> Home</a></li>
                <li><a href="assessment.html"><i class="fa-solid fa-file-contract"></i> Assessment</a></li>
                <li><a href="profile.html"><i class="fa-solid fa-user"></i> Profile</a></li>
                <li><a href="about.html"><i class="fa-solid fa-circle-info"></i> About</a></li>
                <li class="active-page"><a href="settings.html" class="active"><i class="fa-solid fa-gear"></i> Settings</a></li>
            </ul>
        </div>
        <a href="#" class="logout-link"><i class="fa-solid fa-arrow-right-from-bracket"></i> Log out</a>
    </div>

    <div class="main-content">
        <div class="top-bar">
            <h2>Settings</h2>
            <div class="user-icon" id="userProfileIcon">User</div>
        </div>

        <div class="settings-section">
            <h3>Account Security</h3>
            <div class="form-group"><input type="password" class="form-control" placeholder="Enter Current Password"></div>
            <div class="form-group"><input type="password" class="form-control" placeholder="Enter New Password"></div>
            <div style="text-align: right;">
                <button style="padding: 10px 20px; background: #E0E0E0; border: 1px solid #ccc; border-radius: 5px;">Change Password</button>
            </div>

            <h3 class="mt-20">Notifications</h3>
            <div class="toggle-row" onclick="toggleNotification('emailAlert')">
                <span>Emails Alerts for New Recommendations</span>
                <i class="fa-solid fa-toggle-on notification-toggle" id="emailAlert" style="font-size: 24px; color: #4361EE; cursor: pointer;"></i>
            </div>
            <div class="toggle-row" onclick="toggleNotification('appAlert')">
                <span>In-App Alerts for Progress Updates</span>
                <i class="fa-solid fa-toggle-on notification-toggle" id="appAlert" style="font-size: 24px; color: #4361EE; cursor: pointer;"></i>
            </div>
        </div>

        <div class="settings-section">
            <h3>App Preferences</h3>
            <div class="toggle-row">
                <span>Theme Selection</span>
                <span id="themeSwitcher" style="cursor: pointer; user-select: none;">
                    <span id="lightLabel" style="font-weight: bold;">Light</span> 
                    <i id="themeToggleIcon" class="fa-solid fa-toggle-off" style="font-size: 20px; margin: 0 5px; vertical-align: middle;"></i> 
                    <span id="darkLabel" style="color: gray;">Dark</span>
                </span>
            </div>
            <div class="form-group">
                <label>Preferred Industry Focus</label>
                <select class="form-control">
                    <option>Tech</option>
                    <option>Software & Web Development</option>
                    <option>Data Science & Analytics</option>
                    <option>Cybersecurity</option>
                    <option>Cloud Computing & IT Infrastructure</option>
                    <option>Artificial Intelligence & Machine Learning</option>
                    <option>Digital Marketing</option>
                    <option>Marketing & Sales</option>
                    <option>Healthcare</option>
                    <option>Finance & Banking</option>
                    <option>Legal & Compliance</option>
                    <option>Human Resources</option>
                    <option>Education</option>
                    <option>Engineering</option>
                    <option>Arts & Design</option>
                    <option>Science & Research</option>
                    <option>Environmental & Sustainability</option>
                    <option>Manufacturing</option>
                    <option>Retail & E-commerce</option>
                    <option>Hospitality & Tourism</option>
                    <option>Consulting & Professional Services</option>
                    <option>Government & Public Sector</option>
                    <option>Non-Profit & NGOs</option>
                    <option>Entertainment & Media</option>
                    <option>UI/UX Design</option>
                    <option>Project Management</option>
                    <option>Graphic Design</option>
                    
                    </select>
            </div>
        </div>
    </div>

    <script>
        // --- 1. THEME SELECTION LOGIC ---
        const themeSwitcher = document.getElementById('themeSwitcher');
        const themeToggleIcon = document.getElementById('themeToggleIcon');
        const body = document.body;

        themeSwitcher.addEventListener('click', () => {
            const isDark = body.classList.toggle('dark-theme');
            body.classList.toggle('light-theme', !isDark);
            
            // Update UI Icons and Labels
            themeToggleIcon.className = isDark ? "fa-solid fa-toggle-on" : "fa-solid fa-toggle-off";
            themeToggleIcon.style.color = isDark ? "#4361EE" : "#ccc";
            document.getElementById('darkLabel').style.color = isDark ? "black" : "gray";
            document.getElementById('darkLabel').style.fontWeight = isDark ? "bold" : "normal";
            document.getElementById('lightLabel').style.color = isDark ? "gray" : "black";
            document.getElementById('lightLabel').style.fontWeight = isDark ? "normal" : "bold";

            // Save preference
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        });

        // --- 2. NOTIFICATION TOGGLE LOGIC ---
        function toggleNotification(id) {
            const toggle = document.getElementById(id);
            if (toggle.classList.contains('fa-toggle-on')) {
                toggle.classList.replace('fa-toggle-on', 'fa-toggle-off');
                toggle.style.color = "#ccc";
            } else {
                toggle.classList.replace('fa-toggle-off', 'fa-toggle-on');
                toggle.style.color = "#4361EE";
            }
        }

        // --- 3. FETCH PROFILE DATA ---
        window.addEventListener('DOMContentLoaded', () => {
            const userIcon = document.getElementById('userProfileIcon');
            
            const savedImage = localStorage.getItem('userImage');
            const savedName = localStorage.getItem('userName');

            if (savedImage) {
                userIcon.innerHTML = `<img src="${savedImage}" style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover;">`;
            } else if (savedName) {
                userIcon.innerText = savedName.charAt(0).toUpperCase();
            }

            // Load saved theme
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') themeSwitcher.click();
        });
    </script>
</body>
</html>